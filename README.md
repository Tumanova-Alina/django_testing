# Django testing  


## Описание проекта
Проект посвящён тестированию двух платформ: **YaNews** (новости и комментарии) и **YaNote** (заметки). В рамках проекта были написаны тесты на **pytest** для YaNews и на **unittest** для YaNote.
Тесты охватывают функциональность приложений, включая проверку доступности страниц, корректность отображения контента, логику работы с новостями, заметками и комментариями, а также права доступа для анонимных и авторизованных пользователей.

## Основные задачи тестирования:
1. **Тестирование YaNews**:
   - Проверка доступности страниц для анонимных и авторизованных пользователей.
   - Тестирование логики создания, редактирования и удаления комментариев.
   - Проверка сортировки новостей и комментариев.
   - Тестирование прав доступа: только автор комментария может редактировать или удалять его.

2. **Тестирование YaNote**:
   - Проверка доступности страниц для анонимных и авторизованных пользователей.
   - Тестирование логики создания, редактирования и удаления заметок.
   - Проверка корректности формирования slug для заметок.
   - Тестирование прав доступа: только автор заметки может редактировать или удалять её.

## Технологии
- Python 3.9
- Django 3.2.15
- Pytest 7.1.3 (для тестирования YaNews)
- Unittest (для тестирования YaNote)
- Flake8 5.0.4 (для проверки кода)
- Pytest-django 4.5.2 (для интеграции pytest с Django)
- Pytest-lazy-fixture 0.6.3 (для работы с фикстурами)
- Pytest-subtests 0.9.0 (для подтестов)

## Как запустить тесты

- Клонировать репозиторий и перейти в него в командной строке:

     ```bash
     git clone https://github.com/Tumanova-Alina/django_testing.git
     cd django_testing
     ```

- Создать и активировать виртуальное окружение:

     ```bash
     python3 -m venv venv
     source venv/bin/activate  # для Linux/MacOS
     ```

     ```bash
     python -m venv venv
     venv\Scripts\activate  # для Windows
     ```

- Установить зависимости из файла requirements.txt:
       
     ```bash
     python -m pip install --upgrade pip
     pip install -r requirements.txt
     ```

- Запустить тесты:
    
     ```bash
     bash run_tests.sh
     ```

# Основные тесты

## Тестирование YaNews

### Тестирование доступности страниц:  
- Проверка доступности главной страницы и страницы новости для анонимных пользователей.  
- Проверка перенаправления анонимных пользователей на страницу входа при попытке редактирования или удаления комментариев.  
- Проверка доступности страниц редактирования и удаления комментариев для автора комментария.  

### Тестирование логики работы с новостями:  
- Проверка ограничения количества новостей на главной странице (не более 10).  
- Проверка сортировки новостей от самых свежих к самым старым.  

### Тестирование логики работы с комментариями:  
- Проверка сортировки комментариев от старых к новым.  
- Проверка запрета на использование запрещённых слов в комментариях.  
- Проверка прав доступа: только автор комментария может редактировать или удалять его.  

## Тестирование YaNote

### Тестирование доступности страниц:  
- Проверка доступности страниц для анонимных и авторизованных пользователей.  
- Проверка перенаправления анонимных пользователей на страницу входа при попытке редактирования или удаления заметок.  

### Тестирование логики работы с заметками:  
- Проверка корректности формирования slug для заметок.  
- Проверка прав доступа: только автор заметки может редактировать или удалять её.  
- Проверка невозможности создания заметок с одинаковым slug.  

### Тестирование прав доступа:  
- Анонимные пользователи не могут создавать заметки.  
- Авторизованные пользователи могут создавать, редактировать и удалять свои заметки.  
- Пользователи не могут редактировать или удалять чужие заметки.  


## Автор
+ **Алина Туманова** [Tumanova-Alina](https://github.com/Tumanova-Alina)
+ Telegram: https://t.me/alinatelebot